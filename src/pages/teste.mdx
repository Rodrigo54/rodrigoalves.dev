---
title: 'Teste Sobre Mim'
description: 'Este é um exemplo de como implementar uma paginação em Angular 2 com uma lógica como a do Google.'
date: '2017-03-18 07:20:00 -0300'
author: 'Rodrigo Alves'
featuredImage: '/img/post-bg-04.jpg'
comments: true
tags: ['angular', 'typescript']
music:
  title: 'Strobe - deadmau5'
  url: 'https://open.spotify.com/track/6c9EGVj5CaOeoKd9ecMW1U'
---
import Layout from '@components/layout';
import SEO from '@components/seo';
import PaperLayout from '@components/paper-layout';

<Layout>
  <SEO title={frontMatter.title} />
  <PaperLayout title="Teste Sobre Mim">

<p>{frontMatter.timeToRead}</p>

# TESTE


é um testes

import AngularPagination from '@posts/components/angular-pagination';

<AngularPagination />



## Lógica de paginação do Google

A lógica na paginação do Google é a seguinte:

Há 10 links de página mostrados a qualquer momento (por exemplo, 1 2 3 4 5 6 7 8 9 10) a menos que haja menos de 10 páginas totais
o link ativo (página atual) está na 6ª posição, exceto quando o link ativo da página está abaixo de 6 ou a menos de 4 da última posição

Aqui está o que parece para cada página se houver 15 páginas totais:

```ts {numberLines}
import { CollectionViewer } from '@angular/cdk/collections';
import { DataSource } from '@angular/cdk/table';
import { BehaviorSubject, Observable } from 'rxjs';

export class TableDataSource<T = any> implements DataSource<T> {

  private data$ = new BehaviorSubject<T[]>([]);

  public readonly paginator = {
    size: 10,
    page: 1,
    total: 0,
  };

  constructor(
    private data: T[],
    pageSize = 10
  ) {
    this.paginator.size = pageSize;
    this.paginator.page = 1;
    this.paginator.total = this.data.length;
  }

  public connect(collectionViewer: CollectionViewer): Observable<any[]> {
    return this.data$.asObservable();
  }

  public disconnect(collectionViewer: CollectionViewer): void {
    this.data$.complete();
  }

  public load() {
    this.paginate();
  }

  public paginate() {
    const { page: index, size } = this.paginator;
    const paginatedData = this.data.slice((index - 1) * size, index * size);
    this.data$.next(paginatedData);
  }

  public nextPage() {
    const { page: index } = this.paginator;
    this.paginator.page = index + 1;
    this.paginate();
  }

  public preventPage() {
    const { page: index } = this.paginator;
    this.paginator.page = index + 1;
    this.paginate();
  }

  public goPage(page: number) {
    this.paginator.page = page;
    this.paginate();
  }

  public setSize(size: number) {
    this.paginator.size = size;
    this.paginate();
  }
}

```
  </PaperLayout>
</Layout>
