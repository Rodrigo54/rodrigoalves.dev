<script lang="ts">
  // @ts-nocheck
  import postItem from '@components/post-item.ag' with { analog: 'imports' };
  import { frontMatterSignal } from '@utils/frontmatter';
  import { postMetaResolver, postTitleResolver } from './resolvers';
  import { RouteMeta } from '@analogjs/router';

  const posts = frontMatterSignal('all');

  export const routeMeta: RouteMeta = {
    title: postTitleResolver,
    meta: postMetaResolver,
  };
</script>

<template>
  <h1>Artigos</h1>
  <div class="posts">
    @for (post of posts(); track post.createAt) {
      <post-item [info]="post" />
    }
  </div>
</template>

<style>
  :host {
    display: flex;
    flex-direction: column;
    padding: 20px;
    width: 100%;
  }

  h1 {
    font-size: 2rem;
    margin-bottom: 20px;
    color: var(--color3);
  }

  .posts {
    display: grid;
    grid-template-columns: 1fr;
    grid-auto-rows: 270px;
    gap: 20px;
    @media (max-width: 768px) {
      grid-auto-rows: 1fr;
    }
  }
</style>
